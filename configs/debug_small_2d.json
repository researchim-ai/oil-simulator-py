{
  "description": "Debug small 2D test for JFNK diagnostics (10x10x1)",
  "output_filename": "debug_small_2d",
  "save_vtk": false,

  "simulation": {
    "solver_type": "fully_implicit",
    "jacobian": "autograd",
    "total_time_days": 1.0,
    "time_step_days": 0.1,
    "save_interval": 10,
    "animation_fps": 5,
    "newton_max_iter": 15,
    "newton_tolerance": 1e-4,
    "jacobian_regularization": 1e-7,
    "damping_factor": 0.7,
    "max_time_step_attempts": 4,
    "dt_increase_factor": 1.25,
    "dt_reduction_factor": 2.0,
    "use_cuda": false,
    "verbose": true
  },

  "reservoir": {
    "dimensions": [10, 10, 1],
    "grid_size": [10.0, 10.0, 1.0],
    "porosity": 0.3,
    "permeability": 100,
    "k_vertical_fraction": 0.2
  },

  "fluid": {
    "pressure": 20.0,
    "s_w": 0.2,
    "mu_oil": 1.5,
    "mu_water": 0.6,
    "rho_oil": 850.0,
    "rho_water": 997.0,
    "c_oil": 1e-2,
    "c_water": 1e-2,
    "c_rock": 1e-3,
    "s_wr": 0.2,
    "s_or": 0.15,
    "pc_scale": 0.0,
    "pc_threshold": 0.01
  },

  "wells": [
    {
      "name": "INJ",
      "type": "injector",
      "i": 0,
      "j": 0,
      "k": 0,
      "radius": 0.1,
      "control_type": "rate",
      "control_value": 50.0
    },
    {
      "name": "PROD",
      "type": "producer",
      "i": 9,
      "j": 9,
      "k": 0,
      "radius": 0.1,
      "control_type": "rate",
      "control_value": 50.0
    }
  ],

  "linear_solver": {
    "backend": "simple",
    "tol": 1e-6,
    "max_iter": 200
  }
}